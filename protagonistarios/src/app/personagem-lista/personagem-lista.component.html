<div class="card">
  <p-toast></p-toast>

  <!-- Tabela -->
  <p-table [value]="personagens" responsiveLayout="scroll">
    <!-- Título e descrição -->
    <ng-template pTemplate="caption">
      <div style="text-align: center; padding: 20px;">
        <h1 style="font-size: 36px; font-weight: bold; margin-bottom: 10px;">
          Protagonistas
        </h1>
        <blockquote style="font-style: italic; color: #9b9999 !important; font-size: 18px; max-width: 600px; margin: 0 auto; margin-bottom: 30px;">
          "Mas eles não são protagonistas, gabrielly!" São sim, protagonistas do meu coração!
        </blockquote>
      </div>
    </ng-template>

    <!-- Cabeçalho da tabela -->
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Status</th>
        <th>Ações</th>
      </tr>
    </ng-template>

    <!-- Corpo da tabela -->
    <ng-template pTemplate="body" let-personagem>
      <tr>
        <td>{{ personagem.id }}</td>
        <td>{{ personagem.nome }}</td>
        <td>
          <p-tag 
            [value]="personagem.ativo ? 'Ativo' : 'Inativo'" 
            [severity]="personagem.ativo ? 'success' : 'danger'">
          </p-tag>
        </td>
        <td>
            <p-button 
                icon="pi pi-trash" 
                class="p-button-danger p-button-sm" 
                (click)="removerPersonagem(personagem)" 
                label="Remover">
            </p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  
            <!-- Barra de ferramentas -->
  <p-button label="Novo Personagem" icon="pi pi-plus" (click)="abrirModalNovo()"></p-button>



  <!-- Modal de novo personagem -->
  <p-dialog 
  header="Novo Personagem" 
  [(visible)]="displayModal" 
  [modal]="true" 
  [style]="{ width: '50vw' }">

  <ng-container *ngIf="personagemSelecionado">

    <div class="field">
        <label for="nome" class="font-bold">Nome</label>
        <input 
          type="text" 
          pInputText 
          id="nome" 
          [(ngModel)]="personagemSelecionado.nome" 
          class="w-full" />
    </div>

    <div class="field mt-4">
        <label for="status" class="font-bold mr-3">Status Ativo</label>
        <p-inputSwitch 
          id="status" 
          [(ngModel)]="personagemSelecionado.ativo">
        </p-inputSwitch>
    </div>

  </ng-container> <ng-template pTemplate="footer">
      <p-button 
        label="Cancelar" 
        icon="pi pi-times" 
        styleClass="p-button-text" 
        (click)="displayModal = false">
      </p-button>
      <p-button 
        label="Salvar" 
        icon="pi pi-check" 
        (click)="salvarPersonagem()">
      </p-button>
  </ng-template>
</p-dialog>
</div>
